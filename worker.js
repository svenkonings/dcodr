(()=>{"use strict";var e;!function(e){e.BOOLEAN="boolean",e.INTEGER="integer",e.STRING="string"}(e||(e={}));class t{applicable(e,...t){return!(this.convertAndCheckArgs(e,...t)instanceof Error)}encode(e,...t){const r=this.convertAndCheckArgs(e,...t);return r instanceof Error?r.message:this._encode(e,...r)}decode(e,...t){const r=this.convertAndCheckArgs(e,...t);return r instanceof Error?r.message:this._decode(e,...r)}convertAndCheckArgs(e,...t){const r=this.convertArgs(...t);if(r instanceof Error)return r;const n=this.checkVars(e,...r);return n instanceof Error?n:r}convertArgs(...e){const r=this.varDefs.length,n=this.varDefs.length+this.optionDefs.length;if(e.length<r)return Error(`Not enough arguments: expected ${r}-${n}, received ${e.length}`);if(e.length>n)return Error(`Too many arguments: expected ${r}-${n}, received ${e.length}`);const o=Array(e.length);for(let n=0;n<e.length;n++){const s=e[n],c=n<r?this.varDefs[n]:this.optionDefs[n-r],a=t.convertType(s,c);if(a instanceof Error)return a;o[n]=a}return o}static convertType(t,r){if(void 0!==t)switch(r.type){case e.BOOLEAN:const n=t.toLowerCase();return"true"===n||"false"!==n&&Error(`[${r.name}] Cannot parse boolean: ${t}`);case e.INTEGER:return/^-?\d+$/.test(t)?+t:Error(`[${r.name}] Cannot parse number: ${t}`);case e.STRING:return 0===t.length?Error(`[${r.name}] Empty value`):t;default:return Error(`[${r.name}] Unknown variable type ${r.type}`)}}checkVars(e,...t){if(0===e.length)return Error("Input is empty");for(let e=0;e<this.varDefs.length;e++)if(void 0===t[e])return Error(`[${this.varDefs[e].name}] Missing variable`);return this._checkVars(e,...t)}}class r{constructor(e,t){this.name=e,this.type=t}}class n extends r{constructor(e,t,...r){super(e,t),this.bruteForceValues=r}hasBruteForceValues(){return this.bruteForceValues.length>0}getBoolBruteForceValues(){return this.bruteForceValues}getIntBruteForceValues(){return this.bruteForceValues}getStringBruteForceValues(){return this.bruteForceValues}}const o=(e,t,...r)=>new n(e,t,...r);class s extends r{constructor(e,t,r){super(e,t),this.defaultValue=r}getBoolDefault(){return this.defaultValue}getIntDefault(){return this.defaultValue}getStringDefault(){return this.defaultValue}}const c=(e,t,r)=>new s(e,t,r),a="abcdefghijklmnopqrstuvwxyz",i="Brute-force",u=new class extends t{constructor(){super(...arguments),this.name="Caesar Cipher",this.varDefs=[o("shift",e.INTEGER,...(1,26,Array.from({length:25},((e,t)=>t+1))))],this.optionDefs=[c("alphabet",e.STRING,a),c("ignore case",e.BOOLEAN,!0)]}_encode(e,t,r=a,n=!0){return n&&(e=e.toLowerCase()),e.split("").map((e=>{const n=r.indexOf(e);return n>=0?r.charAt(((n+t)%(o=r.length)+o)%o):e;var o})).join("")}_decode(e,t,r=a,n=!0){return this._encode(e,-t,r,n)}_checkVars(e,t,r=a,n=!0){if(n&&(e=e.toLowerCase()),!e.split("").some((e=>r.includes(e))))return Error("Input contains no characters from the alphabet")}},E=[u];var f,l;!function(e){e.Encode="Encode",e.Decode="Decode"}(f||(f={})),function(e){e.Done="Done"}(l||(l={}));const h={TH:2.7056980400061272,HE:2.3285449734335404,IN:2.0275533912479045,ER:1.783813607663436,AN:1.6136243079947414,RE:1.408922245696402,ES:1.3198141738779547,ON:1.3162249877258834,ST:1.249232219172936,NT:1.172515825206027,EN:1.1329747191802888,AT:1.1164000013278053,ED:1.0787830752016612,ND:1.0682918499219805,TO:1.0664621630644244,OR:1.0574430727766728,EA:1.0020473709826474,TI:.9918454525937883,AR:.9794636726918318,TE:.9781351042209434,NG:.8919108277644922,AL:.8836830184180958,IT:.8773684503494426,AS:.8735606073905993,IS:.863757543993427,HA:.8318866088601774,ET:.7602122951633152,SE:.729216912299171,OU:.7195042486331116,OF:.7062904859410511,LE:.7026448490998916,SA:.6956346263083921,VE:.6780783001195525,RO:.6759922609930309,RA:.6624590581664446,RI:.6390801475057014,HI:.6358586655553939,NE:.6320736942604214,ME:.6299011868313592,DE:.6250933272000211,CO:.6183235459547944,TA:.6046905542206226,EC:.5960924043027139,SI:.5957002558656506,LL:.5697536135740754,SO:.5527965758559594,NA:.5445612274171244,LI:.5386327487603231,LA:.5360229277177168,EL:.5340324916836537,MA:.5048041703325138,DI:.5012339706678418,IC:.49647957846508717,RT:.49619390236418226,NS:.4927333664306275,RS:.49113392253110655,IO:.4905072296906289,OM:.4871769859251707,CH:.46559099170180746,OT:.4645572109956916,CA:.46091962202008,CE:.4579794915992478,HO:.45625445011986654,BE:.45022925832018623,TT:.44789313408436443,FO:.4376321055106181,TS:.43760319794758634,SS:.4374453395273826,NO:.4369461637289505,EE:.42778433945797345,EM:.4196289840275599,AC:.41406460190865596,IL:.41343827908498504,DA:.4066497426128634,NI:.40359823713318255,UR:.4010454218048748,WA:.38941479914678545,SH:.38789618079350124,EI:.37063924445346874,AM:.3694613422011019,TR:.36588247026752035,DT:.3644589924856862,US:.3630640291240266,LO:.3606810515100429,PE:.3601493373586623,UN:.35238779544094273,NC:.35185413870132637,WI:.3518170213903936,UT:.35006293359167806,AD:.34405166367435386,EW:.34171991026206244,OW:.3378815177906072,GE:.33359380928543697,EP:.32432844968670543,AI:.3231846814847664,LY:.3177989018532978,OL:.3174395230296872,FT:.31673619045809975,OS:.3144279099869901,EO:.3127610073983783,EF:.30647166985073915,PR:.3050599401025211,WE:.30491965748064065,DO:.30342122816937783,MO:.299500113815551,ID:.2982517464875379,IE:.28920388739305714,MI:.28141961256776943,PA:.2791015729033803,FI:.27736998675172864,PO:.27560551535637207,CT:.274939878246978,WH:.2741109712215807,IR:.27014355851480215,AY:.2664910994887671,GA:.259931904058714,SC:.24977605276230236,KE:.24630793148420804,EV:.24453511158464794,SP:.24445682990395798,IM:.243850834878611,OP:.24188588375211675,DS:.24120209269313875,LD:.23693977659133564,UL:.2352721339691102,OO:.23516547662454831,SU:.2319775274473576,IA:.23130703386737422,GH:.22849460549699105,PL:.2269180332613408,EB:.22521993363070514,IG:.22040453490692835,VI:.21692320865404113,IV:.21112307957710075,WO:.21060077772824326,YO:.2101810399130224,RD:.20872733638328228,TW:.20605898330704928,BA:.2050693502311955,AG:.2037235297266898,RY:.2032441960795227,AB:.2029445518441609,LS:.20062894041506643,SW:.20057764683522292,AP:.19781817712031388,FE:.1972487675067399,TU:.19605097685100714,CI:.19532456448109517,FA:.19328588750584474,HT:.19313838955623158,FR:.19285682989230246,AV:.19168917248027398,EG:.19163316118614368,GO:.18937247412680952,BO:.1889952188662201,BU:.18762791426086922,TY:.1852146415208283,MP:.1811965827636182,OC:.17684379755255095,OD:.17599419271202288,EH:.17481307593864684,YS:.1743616554343432,EY:.17410081671159522,RM:.17062374565198626,OV:.16997679439133592,GT:.16992998726527495,YA:.1674221521050446,CK:.16662529778553686,GI:.16426757381861776,RN:.16337710524698804,GR:.16165023680962318,RC:.16128253260785944,BL:.16051893354886343,LT:.15765659916166228,YT:.155271794589695,OA:.1515732453451621,YE:.1503032551600013,OB:.14367086578035188,DB:.1412242915276984,FF:.1407340192586801,SF:.14046751465357787,RR:.13635609603080043,DU:.13554897374490382,KI:.13446311317322998,UC:.13279868507201367,IF:.13275310362662524,AF:.13187785199617544,DR:.13186194127348277,CL:.13143006228178858,EX:.13064745360934288,SM:.1290608215417576,PI:.12856257078534253,SB:.12843477623069183,CR:.1275250667851082,TL:.12495321871730036,OI:.12341485071695286,RU:.12327472997742542,UP:.12272874705293234,BY:.12099720715338155,TC:.12018185199353351,NN:.11981373152286212,AK:.11880571323692014,SL:.11482111787467555,NF:.11448165058048124,UE:.11396140695011162,DW:.1134752279920186,AU:.11295151545408519,PP:.11270233226075159,UG:.1117525916218816,RL:.11108010920156162,RG:.10744219646124409,BR:.10686732909976969,CU:.10647337683077314,UA:.10614850207439724,DH:.10605063262899699,RK:.10386834288060488,YI:.10317025992246401,LU:.10182261245997472,UM:.10151688607335105,BI:.10074775988830335,NY:.1004431435521001,NW:.09749866543378793,QU:.09642230966883893,OG:.0962766618032598,SN:.096157886408275,MB:.09532012210556474,VA:.09507986556769535,DF:.09328766603787876,DD:.09253368741585971,MS:.09072014254150049,GS:.09066972775157313,AW:.09063006657509358,NH:.09054796909608344,PU:.08922372519662465,HR:.08887343491083124,SD:.08885606724696177,TB:.0882364972300151,PT:.08816748909554573,NM:.08780794838958217,DC:.08747384633908653,GU:.08714890220455934,TM:.08695073507846417,MU:.08685760647340111,NU:.08632034206991841,MM:.08627191612032764,NL:.08540415733021567,EU:.0849681156494449,WN:.08440118052326642,NB:.08331603685915576,RP:.08298061662378588,DM:.08197965178322364,SR:.08126050099314523,UD:.08093042287542361,UI:.08051292828709401,RF:.07946647450534504,OK:.07857237514379853,YW:.07814440445462623,TF:.07789899080751198,IP:.07744037810152603,RW:.07742613245446399,RB:.07738466744605126,OH:.07526740815145536,KS:.0746354656975311,DP:.07273242300802561,FU:.07259035968026242,YC:.0723395114112982,TP:.07100684962948457,MT:.07067196129327448,DL:.0705563079150971,NK:.07037719665455243,CC:.06999080660404498,UB:.06916696418369082,RH:.06865444465416329,NP:.06864103154491656,JU:.06763941917494241,FL:.0668536884856893,DN:.06569005500643486,KA:.06551697964505122,PH:.06533904781307827,HU:.06410148035061385,JO:.06293396169488794,LF:.06249866004773079,YB:.062366009022490745,RV:.062265618837594114,OE:.060504870736356055,IB:.06009174697155686,IK:.05978370797989064,YP:.05970829392945343,GL:.05959090609749415,LP:.05883167786202853,YM:.05819145628205199,LB:.056975488550684884,HS:.05693693742462576,DG:.056477029659815985,GN:.05611371940763308,EK:.05577168512184154,NR:.05535405177720939,PS:.054971454398971706,TD:.054265647339988746,LC:.05383890233148899,SK:.0536960989701122,YF:.05331118898683197,YH:.052988094936338825,VO:.05210974441513202,AH:.05146170623011169,DY:.0512945048855361,LM:.05125921453258696,SY:.05120731967543238,NV:.05075090394423684,YD:.04908127248167483,FS:.04734864565775405,SG:.04726432807790307,YR:.04675946327106634,YL:.046574454867663206,WS:.04599140088433822,MY:.04507565553959356,OY:.04470015785883647,KN:.04402820733767629,IZ:.043148631135796936,XP:.042568028513817045,LW:.0424781838079144,TN:.04121337385804887,KO:.04065561977388927,AA:.039803239807310174,JA:.03960944350474539,ZE:.03954256296691516,FC:.03632619187375166,GW:.03626143893256057,TG:.03538389782311865,XT:.03491961923477848,FH:.03486492612552243,LR:.034806833486853844,JE:.034396484848105695,YN:.0343573324447355,GG:.033955656074896874,GF:.0338863704278224,EQ:.03379724262948294,HY:.03345069876385844,KT:.03339366992350943,HC:.03332595684786388,BS:.03260014575526296,HW:.0324510058560696,HN:.03200548249462443,CS:.03195113627612476,HM:.031289569351605574,NJ:.031052157317938506,HH:.030757600813670287,WT:.030093767536209414,GC:.03005325069586413,LH:.029463698292369615,EJ:.029069283502364558,FM:.028937904409897908,DV:.028643116645125435,LV:.028636687603107176,WR:.028369997989601558,GP:.028102868981137858,FP:.027747675972654266,GB:.027389962224674304,GM:.027254304812878955,HL:.027045175938882136,LK:.02692302414053522,CY:.026486635569008075,MC:.025478594157015668,YG:.024261123232370917,XI:.023698096408714325,HB:.023449907635549022,FW:.02326256350105292,GY:.02265899671100062,HP:.022632286122759294,MW:.02168347052590632,PM:.02153555630738551,ZA:.021486852845189634,LG:.021425638189713624,IW:.021323582929186367,XA:.020909372240017175,FB:.020539517315563884,SV:.020399095937380905,GD:.020346114155856333,IX:.020336123702072564,AJ:.02012572289530235,KL:.019571784609462937,HF:.0192936938530976,HD:.01916582992029561,AE:.018870001483253997,SQ:.018508841953760652,DJ:.018486178424343767,FY:.018268677920092957,AZ:.017769108978803645,LN:.017398097751829083,AO:.017334501113159255,FD:.017298910121554576,KW:.016642269045776002,MF:.016537138020542172,MH:.01643947670959574,SJ:.016290961213763874,UF:.016231989785179125,TV:.01614545210448731,XC:.016141867566671374,YU:.016084445583465126,BB:.015937502659062186,WW:.015601064877473585,OJ:.015288215667318885,AX:.015282295398409983,MR:.015277508305971929,WL:.01521189970091509,XE:.015123211297533714,KH:.015034129751295104,OX:.015033736608437872,UO:.015029758927764706,ZI:.014893985885717229,FG:.014748823667197045,IH:.014122685851929561,TK:.014114591734280674,II:.014040380238465593,IU:.01333640013746624,TJ:.012938400809645246,MN:.012913517179387523,WY:.012803668439866913,KY:.0127955511961676,KF:.012426598187680899,FN:.012357682557413232,UY:.01230213378429144,PW:.012266311532182508,DK:.012158382254847205,RJ:.011982924910269756,UK:.011906978960672769,KR:.011725370086682167,KU:.01171607341441116,WM:.011694543061465121,KM:.011230403229427506,MD:.011126544136967072,ML:.011066462657961903,EZ:.010764390187305435,KB:.010588493447769905,WC:.010369582254443146,WD:.010005393212344076,HG:.00993511314510131,BT:.009904332371985113,ZO:.009805815397172945,KC:.009713334321521801,PF:.009670574254285252,YV:.00951606911139321,PC:.009257542993687754,PY:.009161315497867698,WB:.009130627228953204,YK:.009064324842383606,CP:.008855496607042317,YJ:.008757349649036954,KP:.008687370220449719,PB:.008541282959912518,CD:.008289185884225322,JI:.008269343732960335,UW:.008157298018649312,UH:.00784761707740289,WF:.007775278791672264,YY:.007700350388293995,WP:.007440714220168121,BC:.007409124035287036,AQ:.007286278455427354,CB:.006892788707439312,IQ:.006744365715809148,CM:.006612709110737392,MG:.00659400013594325,DQ:.006551933850219462,BJ:.006535606858619135,TZ:.006475456001462691,KD:.006428625749351273,PD:.006317158186300884,FJ:.006240911598048367,CF:.0061892248753476166,NZ:.006162190522400334,CW:.0059492458500833255,FV:.005658597648337001,VY:.00539026608525118,FK:.005293668572624317,OZ:.005285597581025856,ZZ:.005117216807878578,IJ:.0050675651776152615,LJ:.005049850622989412,NQ:.0050281121355895434,UV:.004903902118754764,XO:.004883597446481269,PG:.004882672404464254,HK:.004865374118746061,KG:.004839496068320047,VS:.004719865009469496,HV:.004568296874981477,BM:.004435738353943132,HJ:.004391775732084461,CN:.004348761278293233,GV:.00431941432030341,CG:.004199459496746903,WU:.0041831325051465765,GJ:.004092085244621809,XH:.003852776874819854,GK:.0037887408411919443,TQ:.00367960900923452,CQ:.003643416740318782,RQ:.0036292404714080165,BH:.003572720404168359,XS:.0035694365050079535,UZ:.003555306488198039,WK:.0034449489755680692,XU:.0034118555974093335,UX:.003348975866302693,BD:.0032781638999001433,BW:.0032420178830852558,WG:.0032351031940080635,MV:.0031524044376868626,MJ:.003104972908264384,PN:.0030444289082507078,XM:.002948386420834056,OQ:.002837034488035794,BV:.0027769992611314767,XW:.0027594465888586043,KK:.002747629177091229,BP:.002663219093038549,ZU:.002625685513198138,RZ:.0026232341518530465,XF:.0026139606056324646,MK:.0025679397652859344,ZH:.002489264941738752,BN:.0024542521013947083,ZY:.002448378084586659,HQ:.0023413044711170948,WJ:.002299538824048837,IY:.002274701445891966,DZ:.0022672317316045645,VR:.002229721277814579,ZS:.0021968129080592465,XY:.0021814572105767864,CV:.00217902897528212,XB:.0021747969080542734,XR:.002082408336604833,UJ:.0020389776139059473,YQ:.002034005513064488,VD:.00197984430296822,PK:.0019198553281647539,VU:.0019155307567352057,JR:.0018609764037817063,ZL:.001850985949997937,SZ:.001846383865963284,YZ:.001810330353350098,LQ:.0017841285382181292,KJ:.0017764506894768991,BF:.0017425941516541255,NX:.0017308461180380265,QA:.0017003891096277854,QI:.0016971514625682305,KV:.001692456874331876,ZW:.0015925754625446087,WV:.0014784484036952999,UU:.0014579355969679775,VT:.001454906084362251,VP:.0014471588574697448,XD:.0013898987566164746,GQ:.001381781512917162,XL:.0013779657145969724,VC:.0013649920003083276,CZ:.0013393220843361427,LZ:.0013254464540809075,ZT:.001317144201978192,WZ:.001221888000276003,SX:.0011788504204343487,ZB:.0011713807061469472,VL:.0011339165044578123,PV:.0011124786557134743,FQ:.0010985798994078138,PJ:.001087918790161708,ZM:.0010645846052824877,VW:.0010547329078012709,CJ:.0009603323699648213,ZC:.0009490237313068047,BG:.0009369750590351756,JS:.0009094550590289592,XG:.0009085993951632198,RX:.0008939143531430959,HZ:.0008571901850675738,XX:.0008106143195108345,VM:.0008099667900989236,XN:.0008032602354755599,QW:.0008017570421979095,JP:.0007983112606845261,VN:.0007650560001728127,ZD:.0007609858152979437,ZR:.0007558749581539321,FZ:.0007212090085662698,XV:.0007196133110869176,ZP:.0007027775463772324,VH:.0006984761009981096,VB:.0006750956640180384,ZF:.0006627463530908792,GZ:.0006594162018296228,TX:.0006511370757773325,VF:.0006496107564492567,DX:.0006339544203112663,QB:.0006315030589661748,BK:.0006242414791326017,ZG:.0006098108236671573,VG:.0005916800001336501,JC:.0005728322690369557,ZK:.0005610842354208566,ZN:.0005605985883619235,UQ:.0005408258152482134,JM:.0005165897144024028,VV:.0005163815799485743,JD:.0005065298824673574,MQ:.0004939261849855188,JH:.00048472201691621283,QS:.00048210877321814356,JT:.00047195643708139657,JB:.00044818285724409373,FX:.0004466334118655925,PQ:.0004303064202652659,MZ:.00042253606732233417,YX:.0003918709244582646,QT:.00039115401689507746,WQ:.00037568268916049035,JJ:.00037198252109242765,JW:.00037193626899157685,LX:.0003576906219295355,GX:.0003417567731864405,JN:.0003342176807477628,ZV:.0003316044370496935,MX:.0003295462185618336,JK:.00032300154629144774,KQ:.00032156773116507345,XK:.0003156937143570239,JF:.0002923132773769528,QM:.00028479731098870044,QH:.000283826016870834,JL:.0002809583866180854,JG:.00027804450426448604,VK:.00026523267232881893,VJ:.00026437700846307946,KZ:.00025882675636098543,QC:.0002466855798876547,XJ:.0002458067899714898,PZ:.00022425331097502462,QL:.0002220794622350378,QO:.00021724611769613088,JV:.0002064000000466221,QF:.0002030004706340895,QD:.00020068786559155033,BZ:.0001880610420592864,HX:.00017404665550149894,ZJ:.00016574440339878327,PX:.00015758090759861995,QP:.0001401901176787253,QE:.00013921882356085884,QR:.00013817815129171622,ZQ:.00013350668910578706,JY:.00013235038658451745,BQ:.00012749391599518517,XQ:.00012525068910392218,CX:.00012256806725457673,KX:.0001175497143122667,WX:.000108183663889983,QY:.00010538541178851059,QV:9740692439175041e-20,QN:880640000198921e-19,VX:7381835295785074e-20,BX:6986379833510873e-20,JZ:6611737816619525e-20,VZ:60890890770056696e-21,QG:59364571441980835e-21,QQ:5779200001305419e-20,ZX:56959462197740084e-21,XZ:481484369856658e-19,QK:4678400001056768e-20,VQ:3441156303298305e-20,QJ:3103515967087584e-20,QX:17691428575424753e-21,JX:172751596677677e-19,JQ:16697008407132903e-21,QZ:6475294119109714e-21};function D(e){const t=e.toUpperCase().replace(/[^A-Z]/g,"");if(t.length<1)return 1/0;const r=new Map;for(let e=0;e<t.length-1;e++){const n=t.substr(e,2),o=r.get(n)||0;r.set(n,o+1)}const n=r.size;let o=0;for(const[e,t]of r){const r=100*t/n,s=h[e];o+=Math.abs(r-s)}return o/n}function V(e,t,r,n){if(r.coder===i)for(const o of E)A(e,t,r,o,n);else{const o=function(e){switch(e){case u.name:return u}}(r.coder);if(void 0===o)return void(n&&B(Error(`Cannot find coder: ${r.coder}`)));A(e,t,r,o,n)}}function A(e,t,r,n,o){const s=n.convertArgs(...r.args);if(s instanceof Error)return void(o&&B(s));const c=[];for(let e=0;e<s.length;e++)if(e<n.varDefs.length&&void 0===s[e]){const t=n.varDefs[e].bruteForceValues;if(0===t.length)return void(o&&B(Error(`[${n.varDefs[e].name}] Missing variable without brute-force values`)));c[e]=t}else c[e]=[s[e]];d(e,t,r,n,c,o)}function d(e,t,r,n,o,s,c=[],a=0){const i=a===o.length-1;for(const u of o[a])c.push(u),i?C(e,t,r,n,c,s):d(e,t,r,n,o,s,c,a+1),c.pop()}function C(e,t,r,n,o,s){const c="string"==typeof e?e:e.output,a=n.checkVars(c,...o);if(a instanceof Error)return void(s&&B(a));let i;switch(t){case f.Encode:i=n._encode(c,...o);break;case f.Decode:i=n._decode(c,...o)}void 0===r.nextStep?B({input:e,mode:t,coder:n.name,vars:o,output:i,score:D(i)}):V({input:e,mode:t,coder:n.name,vars:o,output:i},t,r.nextStep,s)}function B(e){postMessage(e)}self.addEventListener("message",(e=>{!function(e){const t=!function(e){for(const t of e.steps){if(t.coder===i)return!0;for(const e of t.args)if(void 0===e)return!0}return!1}(e);V(e.input,e.mode,function(e){let t;for(let r=e.length-1;r>=0;r--)t={coder:e[r].coder,args:e[r].args,nextStep:t};return t}(e.steps),t),B(l.Done)}(e.data)}))})();